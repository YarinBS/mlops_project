# program: src/mlops_project/train.py
# name: sweepdemo
# project: mlops_project  # change this
# method: bayes
# metric:
#     goal: minimize
#     name: validation_loss
# parameters:
#     learning_rate:
#         min: 0.0001
#         max: 0.1
#         distribution: log_uniform
#     batch_size:
#         values: [16, 32, 64]
#     epochs:
#         values: [5, 10, 15]
# run_cap: 10

program: src/mlops_project/train.py
name: sweepdemo
project: mlops_project
method: bayes
metric:
    goal: minimize
    name: train_loss  # CHANGED: Use train_loss since that's what you're logging
parameters:
    lr:  # CHANGED: Match your config parameter name (lr not learning_rate)
        min: 1e-7
        max: 1e-3
        distribution: log_uniform
    batch_size:
        values: [16, 32, 64]
    epochs:
        values: [5, 10, 15]
run_cap: 10
command:  # CHANGED: Custom command format for Hydra (no hyphens in args)
    - ${env}
    - python
    - ${program}
    - ${args_no_hyphens}